# Template file for 'mullvad-vpn'
pkgname=mullvad-vpn
version=2025.6
revision=1
archs="aarch64 x86_64"
depends="alsa-lib iputils libnftnl libnotify nss"
short_desc="The Mullvad VPN client app for desktop"
maintainer="krum <git@kris.sh>"
license="GPL-3.0-or-later"
homepage="https://www.mullvad.net"
case "$XBPS_TARGET_MACHINE" in
x86_64)
	distfiles=https://github.com/mullvad/mullvadvpn-app/releases/download/$version/MullvadVPN-${version}_amd64.deb
	checksum=a632639dbd343c8f496ca82dcf4f1ea80a045f50779e935a6f6fa3f566ba3dea
;;
aarch64)
	distfiles=https://github.com/mullvad/mullvadvpn-app/releases/download/$version/MullvadVPN-${version}_arm64.deb
	checksum=f02c949f6c943ea7b074bde910de8b3a15f2d6e2d8e29d68dcea36fd1e49294e
;;
*)
	broken="No distfiles available for this target"
	;;
esac

do_install() {
	vsv mullvad-daemon

	vmkdir opt
	vcopy opt/Mullvad\ VPN opt

	vmkdir usr/bin
	vcopy usr/bin usr

	vinstall usr/share/applications/mullvad-vpn.desktop 0644 \
		usr/share/applications
}
